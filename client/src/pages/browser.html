<template>
    <require from="./navigation.css"></require>
    <require from="./browser.css"></require>
    <require from="./pages.css"></require>
    <div class="top-box">
        <div if.bind="showSearchBox">
            <input id="filter" type="text" placeholder="Search Keywords" size="50" value.bind="filter" />
            <input class="btn" type="button" value="Search" click.delegate="search()" />
            <input class="btn" type="button" value="Clear Filter" click.delegate="filter = ''" />
            <input class="btn" type="button" value="Hide search" click.delegate="showSearchBox = false" />
            <div>
                <p class="counter">Showing ${galleryCount} results</p>
            </div>
        </div>
        <div else>
            <input class="btn" type="button" value="Show search" click.delegate="showSearchBox = true" />
        </div>
    </div>
    <div style="display:flex;">
        <button class="button-page" click.delegate="changeChapter(false)">&lt;</button>
        <div id="pages-container">
            <template repeat.for="cover of covers">
                <div class="cover-container" dir.one-way="cover._id" pointerdown.delegate="onPointerDown($event)"
                    pointerup.delegate="onPointerUp($event)">
                    <div class="title">${cover.title}</div>
                    <div class="cover-image">
                        <img src.one-way="`/thumb/300,fit/${cover.path}`" />
                    </div>
                    <div class="info">
                        <div>${cover.category}</div>
                        <div>${cover.length} pages</div>
                    </div>
                </div>
            </template>
        </div>
        <button class="button-page" click.delegate="changeChapter(true)">&gt;</button>
    </div>
</template>
